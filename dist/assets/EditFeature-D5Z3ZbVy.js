import{r,v as E,u as P,j as e,P as S,M as i,B as T,C as k,z as n}from"./index-BW7gK_ch.js";import{S as W}from"./SideBar-DZi7H3vK.js";import{A as I}from"./ApiError--lr0Hegw.js";import{a as p,b as g}from"./api-DUhR3JNR.js";import{B as w}from"./Box-CLb8pgFE.js";import{m as x}from"./proxy-DPdhoA-x.js";import{T as A}from"./Typography-CXbPZ9go.js";import{T as j}from"./TextField-C6g_lDS8.js";import{A as B}from"./AddTask-C4faER5c.js";import"./iconBase-BfNzzL28.js";const K=()=>{const[o,l]=r.useState({title:"",status:""}),[b,c]=r.useState(!1),v=localStorage.getItem("TOKEN"),[d,u]=r.useState(""),{id:f}=E(),m=a=>{const{name:t,value:s}=a.target;l(C=>({...C,[t]:s}))},h=P();r.useEffect(()=>{(async()=>{try{const t=await p.get(`${g}/api/feature/featureId/${f}`);l({title:t.data.title,status:t.data.status})}catch(t){console.log(t),u("api fetching error")}})()},[]);const y=async()=>{if(!v)return n.error("You are not login"),h("/login");const{title:a,status:t}=o;try{c(!0),await p.put(`${g}/api/feature/edit/feature/${f}`,{title:a,status:t}),n.success("Feature Edit done"),h("/manageproject")}catch(s){u("api fetching error"),console.log(s),n.error("error")}finally{c(!1)}};return d?e.jsx(I,{error:d}):e.jsxs("div",{className:"dashboard_container",children:[e.jsx(W,{}),e.jsx("main",{children:e.jsx(w,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(x.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsxs(S,{elevation:6,sx:{padding:4,borderRadius:3,background:"#151a1f",minWidth:400},children:[e.jsx(A,{variant:"h5",mb:3,textAlign:"center",color:"#fff",fontWeight:"bold",children:"Project Edit"}),e.jsx(j,{fullWidth:!0,label:"Project Title",name:"title",value:o.title,onChange:m,sx:F}),e.jsxs(j,{name:"status",value:o.status,onChange:m,fullWidth:!0,select:!0,label:"Status",children:[e.jsx(i,{value:"pending",children:"Pending"}),e.jsx(i,{value:"working",children:"Working"}),e.jsx(i,{value:"completed",children:"Completed"})]}),e.jsx(x.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(T,{fullWidth:!0,variant:"contained",onClick:y,startIcon:e.jsx(B,{}),sx:{mt:3,py:1.4,background:"linear-gradient(135deg,#6a5af9,#9a6bff)",fontWeight:"bold",borderRadius:2},children:b?e.jsx(k,{size:20}):"Edit Feature"})})]})})})})]})},F={mb:2,"& label":{color:"#aaa"},"& label.Mui-focused":{color:"#6a5af9"},"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"#2a2f36"},"&:hover fieldset":{borderColor:"#6a5af9"},"&.Mui-focused fieldset":{borderColor:"#9a6bff"}}};export{K as default};
