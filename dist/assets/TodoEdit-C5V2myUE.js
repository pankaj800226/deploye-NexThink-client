import{r as l,x as I,q as k,j as e,p as A,B as P,z as g}from"./index-BxPa0GNL.js";import{S as w}from"./SideBar-j88aNnHy.js";import{a as x,b as y}from"./api-DUhR3JNR.js";import{A as D}from"./ApiError-DejuQA7b.js";import{B as L}from"./Box-Brc4H4eR.js";import{P as M}from"./Paper-CMfUTTfD.js";import{T as B}from"./Typography-BJJRhZAd.js";import{T as i}from"./TextField-a0UQVqiY.js";import{M as r}from"./MenuItem-Dcc3-Rth.js";import{A as O}from"./AddTask-sYEZlCL3.js";import"./iconBase-BaWD4X7n.js";import"./index-BZl8lsr2.js";import"./dividerClasses-CWB4WZUA.js";const V=()=>{const[a,f]=l.useState({title:"",description:"",price:"",category:"",priority:"",status:"",createdAt:new Date().toISOString()}),[j,p]=l.useState(!1),[h,b]=l.useState(""),[v,m]=l.useState(!1),{id:d}=I(),S=k(),o=n=>{const{name:t,value:c}=n.target;f(u=>({...u,[t]:c}))};l.useEffect(()=>{(async()=>{try{m(!0);const t=await x.get(`${y}/api/todo/getTaskId/${d}`);f({title:t.data.title||"",description:t.data.description||"",price:t.data.price||"",category:t.data.category||"",priority:t.data.priority||"",status:t.data.status||"",createdAt:t.data.createdAt||new Date().toISOString()})}catch(t){console.log(t),b("Api fetching error")}finally{m(!1)}})()},[d]);const T=async()=>{const{title:n,description:t,price:c,category:u,priority:C,status:W}=a;try{p(!0),await x.put(`${y}/api/todo/editTodo/${d}`,{title:n,description:t,price:c,category:u,priority:C,status:W}),g.success("Todo updated successfully"),S("/managetodo")}catch(E){console.log(E),g.error("Error while editing todo")}finally{p(!1)}};return h?e.jsx(D,{error:h}):v?e.jsx(A,{}):e.jsxs("div",{className:"dashboard_container",children:[e.jsx(w,{}),e.jsx("main",{children:e.jsx(L,{sx:{minHeight:"100vh",display:"flex",alignItems:"center"},children:e.jsxs(M,{elevation:6,sx:{padding:4,borderRadius:3,background:"#151a1f"},children:[e.jsx(B,{variant:"h5",mb:3,textAlign:"center",color:"#fff",fontWeight:"bold",children:"Edit Todo"}),e.jsx(i,{value:a.title,onChange:o,fullWidth:!0,label:"Title",name:"title",sx:s}),e.jsx(i,{value:a.price,onChange:o,fullWidth:!0,type:"number",label:"Price",name:"price",sx:s}),e.jsxs(i,{value:a.category,onChange:o,fullWidth:!0,select:!0,label:"Category",name:"category",sx:s,children:[e.jsx(r,{value:"Work",children:"Work"}),e.jsx(r,{value:"Personal",children:"Personal"}),e.jsx(r,{value:"Study",children:"Study"}),e.jsx(r,{value:"Other",children:"Other"})]}),e.jsxs(i,{value:a.priority,onChange:o,fullWidth:!0,select:!0,label:"Priority",name:"priority",sx:s,children:[e.jsx(r,{value:"Low",children:"Low"}),e.jsx(r,{value:"Medium",children:"Medium"}),e.jsx(r,{value:"High",children:"High"})]}),e.jsxs(i,{value:a.status,onChange:o,fullWidth:!0,select:!0,label:"Status",name:"status",sx:s,children:[e.jsx(r,{value:"pending",children:"Pending"}),e.jsx(r,{value:"inprogress",children:"In Progress"}),e.jsx(r,{value:"completed",children:"completed"})]}),e.jsx(i,{value:a.description,onChange:o,fullWidth:!0,multiline:!0,rows:9,label:"Description",name:"description",sx:s}),e.jsx(P,{fullWidth:!0,variant:"contained",startIcon:e.jsx(O,{}),onClick:T,sx:{mt:3,py:1.4,background:"linear-gradient(135deg,#6a5af9,#9a6bff)",fontWeight:"bold",borderRadius:2},children:j?"Loading...":" Edit Todo"})]})})})]})},s={mb:2,"& label":{color:"#aaa"},"& label.Mui-focused":{color:"#6a5af9"},"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"#2a2f36"},"&:hover fieldset":{borderColor:"#6a5af9"},"&.Mui-focused fieldset":{borderColor:"#9a6bff"}}};export{V as default};
