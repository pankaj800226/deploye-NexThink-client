import{r as s,u as W,j as e,P as D,G as t,B as w,C as M,z as u}from"./index-CsUNMcKn.js";import{S as k}from"./SideBar-DYMF38-J.js";import{A}from"./ApiError-DqQ7ZgSV.js";import{a as B,b as E}from"./api-DUhR3JNR.js";import{B as I}from"./Box-DgU-e51b.js";import{m as g}from"./proxy-CcHnjAHe.js";import{T as z}from"./Typography-CjFOli3J.js";import{T as a}from"./TextField-CJUgSAE1.js";import{A as H}from"./AddTask-BtLg1VU4.js";import"./iconBase-Bs8776E5.js";const Q=()=>{const[i,j]=s.useState({title:"",description:"",category:"",priority:""}),[h,v]=s.useState(""),[f,y]=s.useState(""),[b,m]=s.useState(!1),x=localStorage.getItem("TOKEN"),[p,C]=s.useState(""),n=r=>{const{name:l,value:c}=r.target;j(d=>({...d,[l]:c}))},P=W(),S=async()=>{if(!x)return u.error("You are not login"),P("/login");const{title:r,description:l,category:c,priority:d}=i;if(!r||!l||!c||!d||!h||!f)return u.error("all field are required");try{m(!0),await B.post(`${E}/api/project/create/project`,{title:r,description:l,category:c,priority:d,startDate:h,endDate:f},{headers:{Authorization:`Bearer ${x}`}}),u.success("Project Created done")}catch(T){C("api fetching error"),console.log(T),u.error("error")}finally{m(!1)}};return p?e.jsx(A,{error:p}):e.jsxs("div",{className:"dashboard_container",children:[e.jsx(k,{}),e.jsx("main",{children:e.jsx(I,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(g.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsxs(D,{elevation:6,sx:{padding:4,borderRadius:3,background:"#151a1f",minWidth:400},children:[e.jsx(z,{variant:"h5",mb:3,textAlign:"center",color:"#fff",fontWeight:"bold",children:"Create Project"}),e.jsx(a,{fullWidth:!0,label:"Project Title",name:"title",value:i.title,onChange:n,sx:o}),e.jsx(a,{fullWidth:!0,type:"date",value:h,onChange:r=>v(r.target.value),sx:o}),e.jsx(a,{fullWidth:!0,type:"date",value:f,onChange:r=>y(r.target.value),sx:o}),e.jsxs(a,{fullWidth:!0,select:!0,label:"Project Type",name:"category",value:i.category,onChange:n,sx:o,children:[e.jsx(t,{value:"software",children:"Software Development"}),e.jsx(t,{value:"project",children:"Project"}),e.jsx(t,{value:"design",children:"Design"}),e.jsx(t,{value:"marketing",children:"Marketing"}),e.jsx(t,{value:"testing",children:"Testing / QA"}),e.jsx(t,{value:"research",children:"Research"}),e.jsx(t,{value:"maintenance",children:"Maintenance"})]}),e.jsxs(a,{fullWidth:!0,select:!0,label:"Priority",name:"priority",value:i.priority,onChange:n,sx:o,children:[e.jsx(t,{value:"Low",children:"Low"}),e.jsx(t,{value:"Medium",children:"Medium"}),e.jsx(t,{value:"High",children:"High"})]}),e.jsx(a,{fullWidth:!0,multiline:!0,rows:9,label:"Description",name:"description",value:i.description,onChange:n,sx:o}),e.jsx(g.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(w,{fullWidth:!0,variant:"contained",onClick:S,startIcon:e.jsx(H,{}),sx:{mt:3,py:1.4,background:"linear-gradient(135deg,#6a5af9,#9a6bff)",fontWeight:"bold",borderRadius:2},children:b?e.jsx(M,{size:20}):"Create Project"})})]})})})})]})},o={mb:2,"& label":{color:"#aaa"},"& label.Mui-focused":{color:"#6a5af9"},"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"#2a2f36"},"&:hover fieldset":{borderColor:"#6a5af9"},"&.Mui-focused fieldset":{borderColor:"#9a6bff"}}};export{Q as default};
