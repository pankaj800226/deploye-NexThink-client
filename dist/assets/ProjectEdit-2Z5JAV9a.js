import{r as o,x as w,q as M,j as e,o as b,B as k,C as A,z as u}from"./index-ClQpEqxL.js";import{S as I}from"./SideBar-d_DjaIJX.js";import{A as B}from"./ApiError-CeZbkGXX.js";import{a as P,b as C}from"./api-DUhR3JNR.js";import{B as H}from"./Box-BszLZfW9.js";import{P as L}from"./Paper-xg8inaSZ.js";import{T as R}from"./Typography-C7b5M9R8.js";import{T as i}from"./TextField-B--B7dVT.js";import{M as r}from"./MenuItem-CvZBGTYk.js";import{A as $}from"./AddTask-BA7Anc6a.js";import"./iconBase-DbznRNvR.js";import"./index-08F9tuo5.js";import"./dividerClasses-CZYNPi2d.js";const X=()=>{const[n,p]=o.useState({title:"",description:"",category:"",priority:""}),[f,m]=o.useState(""),[h,g]=o.useState(""),[D,j]=o.useState(!1),E=localStorage.getItem("TOKEN"),[x,S]=o.useState(""),{id:v}=w(),l=a=>{const{name:t,value:c}=a.target;p(d=>({...d,[t]:c}))},y=M();o.useEffect(()=>{(async()=>{try{const t=await P.get(`${C}/api/project/projectId/${v}`);p({title:t.data.title,description:t.data.description,category:t.data.category,priority:t.data.priority}),m(t.data.startDate),g(t.data.endDate)}catch(t){console.log(t)}})()},[]);const T=async()=>{if(!E)return u.error("You are not login"),y("/login");const{title:a,description:t,category:c,priority:d}=n;if(!a||!t||!c||!d||!f||!h)return u.error("all field are required");try{j(!0),await P.put(`${C}/api/project/edit/project/${v}`,{title:a,description:t,category:c,priority:d,startDate:f,endDate:h}),u.success("Project Edit done"),y("/manageproject")}catch(W){S("api fetching error"),console.log(W),u.error("error")}finally{j(!1)}};return x?e.jsx(B,{error:x}):e.jsxs("div",{className:"dashboard_container",children:[e.jsx(I,{}),e.jsx("main",{children:e.jsx(H,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(b.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsxs(L,{elevation:6,sx:{padding:4,borderRadius:3,background:"#151a1f",minWidth:400},children:[e.jsx(R,{variant:"h5",mb:3,textAlign:"center",color:"#fff",fontWeight:"bold",children:"Project Edit"}),e.jsx(i,{fullWidth:!0,label:"Project Title",name:"title",value:n.title,onChange:l,sx:s}),e.jsx(i,{fullWidth:!0,type:"date",value:f,onChange:a=>m(a.target.value),sx:s}),e.jsx(i,{fullWidth:!0,type:"date",value:h,onChange:a=>g(a.target.value),sx:s}),e.jsxs(i,{fullWidth:!0,select:!0,label:"Project Type",name:"category",value:n.category,onChange:l,sx:s,children:[e.jsx(r,{value:"software",children:"Software Development"}),e.jsx(r,{value:"project",children:"Project"}),e.jsx(r,{value:"design",children:"Design"}),e.jsx(r,{value:"marketing",children:"Marketing"}),e.jsx(r,{value:"testing",children:"Testing / QA"}),e.jsx(r,{value:"research",children:"Research"}),e.jsx(r,{value:"maintenance",children:"Maintenance"})]}),e.jsxs(i,{fullWidth:!0,select:!0,label:"Priority",name:"priority",value:n.priority,onChange:l,sx:s,children:[e.jsx(r,{value:"Low",children:"Low"}),e.jsx(r,{value:"Medium",children:"Medium"}),e.jsx(r,{value:"High",children:"High"})]}),e.jsx(i,{fullWidth:!0,multiline:!0,rows:9,label:"Description",name:"description",value:n.description,onChange:l,sx:s}),e.jsx(b.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(k,{fullWidth:!0,variant:"contained",onClick:T,startIcon:e.jsx($,{}),sx:{mt:3,py:1.4,background:"linear-gradient(135deg,#6a5af9,#9a6bff)",fontWeight:"bold",borderRadius:2},children:D?e.jsx(A,{size:20}):"Edit Project"})})]})})})})]})},s={mb:2,"& label":{color:"#aaa"},"& label.Mui-focused":{color:"#6a5af9"},"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"#2a2f36"},"&:hover fieldset":{borderColor:"#6a5af9"},"&.Mui-focused fieldset":{borderColor:"#9a6bff"}}};export{X as default};
