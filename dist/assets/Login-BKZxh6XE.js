import{r as s,u as h,j as e,P as j,B as w,C as I,L as l,z as o}from"./index-BwBHtjEM.js";import{I as d,E as b}from"./Email-Dm75L6a8.js";import{C as v,L as A}from"./Lock-CWCU5TAF.js";import{a as S,b as y}from"./api-DUhR3JNR.js";import{B as E}from"./Box-4DIib_Z0.js";import{T as n,a as c}from"./TextField-BVBGKJgS.js";import"./useThemeProps-Dcyr4Dko.js";const W=()=>{const[r,f]=s.useState(""),[a,x]=s.useState(""),[p,i]=s.useState(!1),g=h(),m=async()=>{if(r&&a){i(!0);try{const t=await S.post(`${y}/api/user/login`,{email:r,password:a});t.data.code===404?o("User Not Found"):t.data.code===405?o("Password Invilid"):t.data.code===200&&(window.localStorage.setItem("USERNAME",t.data.username),window.localStorage.setItem("EMAIL",t.data.email),window.localStorage.setItem("USERID",t.data.userId),window.localStorage.setItem("TOKEN",t.data.token),window.localStorage.setItem("AVATAR",t.data.avatar),g("/"))}catch(t){console.log(t),o.error("Error")}finally{i(!1)}}else o.error("All Field are required")};return e.jsx(E,{sx:{minHeight:"95vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(v,{maxWidth:"xs",children:e.jsxs(j,{elevation:10,sx:{p:4,background:"#111",borderRadius:"14px",boxShadow:"0 0 25px rgba(0,255,255,0.15)"},children:[e.jsx(n,{variant:"h4",textAlign:"center",mb:3,sx:{color:"#0ff",fontWeight:"bold"},children:"Login"}),e.jsx(c,{fullWidth:!0,placeholder:"Email Address",margin:"normal",value:r,onChange:t=>f(t.target.value),InputProps:{startAdornment:e.jsx(d,{position:"start",children:e.jsx(b,{sx:{color:"#0ff"}})})},sx:u}),e.jsx(c,{fullWidth:!0,placeholder:"Password",type:"password",margin:"normal",value:a,onChange:t=>x(t.target.value),InputProps:{startAdornment:e.jsx(d,{position:"start",children:e.jsx(A,{sx:{color:"#0ff"}})})},sx:u}),e.jsx(w,{fullWidth:!0,onClick:m,sx:{mt:3,py:1.3,background:"linear-gradient(45deg, #00f2ff, #00ff9d)",color:"#000",fontWeight:"bold","&:hover":{background:"linear-gradient(45deg, #00ff9d, #00f2ff)"}},children:p?e.jsx(I,{size:20}):"Login"}),e.jsxs(n,{mt:2,textAlign:"center",fontSize:"14px",sx:{color:"#aaa"},children:["Already have an account?"," ",e.jsx(l,{to:"/register",children:e.jsx("span",{style:{color:"#0ff",cursor:"pointer"},children:"Register"})})]}),e.jsxs(n,{mt:2,textAlign:"center",fontSize:"14px",sx:{color:"#aaa"},children:["Forget Password?"," ",e.jsx(l,{to:"/forgetpassword",children:e.jsx("span",{style:{color:"#0ff",cursor:"pointer"},children:"Forget Password"})})]})]})})})},u={input:{color:"#fff"},borderRadius:"8px","& .MuiOutlinedInput-notchedOutline":{borderColor:"#333"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#0ff"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#00ffea"}};export{W as default};
