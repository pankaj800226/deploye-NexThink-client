import{r,y as E,t as P,j as t,p as h,B as S,C as T,z as i}from"./index-Cr5JfeOY.js";import{S as k}from"./SideBar-B22sVGhT.js";import{A as W}from"./ApiError-COunG8Av.js";import{a as g,b as x}from"./api-DUhR3JNR.js";import{B as F}from"./Box-D4hGLymY.js";import{P as I}from"./Paper-CVMpEyed.js";import{T as w}from"./Typography-BFuEeEwt.js";import{T as j}from"./TextField-DBrHclT6.js";import{M as n}from"./MenuItem-04qZqGv-.js";import{A}from"./AddTask-yqcyigAZ.js";import"./iconBase-ZFtPvJzs.js";import"./index-Cv-_CcqN.js";import"./dividerClasses-BCLTNUIY.js";const G=()=>{const[o,l]=r.useState({title:"",status:""}),[b,c]=r.useState(!1),v=localStorage.getItem("TOKEN"),[d,u]=r.useState(""),{id:f}=E(),m=a=>{const{name:e,value:s}=a.target;l(C=>({...C,[e]:s}))},p=P();r.useEffect(()=>{(async()=>{try{const e=await g.get(`${x}/api/feature/featureId/${f}`);l({title:e.data.title,status:e.data.status})}catch(e){console.log(e),u("api fetching error")}})()},[]);const y=async()=>{if(!v)return i.error("You are not login"),p("/login");const{title:a,status:e}=o;try{c(!0),await g.put(`${x}/api/feature/edit/feature/${f}`,{title:a,status:e}),i.success("Feature Edit done"),p("/manageproject")}catch(s){u("api fetching error"),console.log(s),i.error("error")}finally{c(!1)}};return d?t.jsx(W,{error:d}):t.jsxs("div",{className:"dashboard_container",children:[t.jsx(k,{}),t.jsx("main",{children:t.jsx(F,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(h.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:t.jsxs(I,{elevation:6,sx:{padding:4,borderRadius:3,background:"#151a1f",minWidth:400},children:[t.jsx(w,{variant:"h5",mb:3,textAlign:"center",color:"#fff",fontWeight:"bold",children:"Feature Edit"}),t.jsx(j,{fullWidth:!0,label:"Project Title",name:"title",value:o.title,onChange:m,sx:B}),t.jsxs(j,{name:"status",value:o.status,onChange:m,fullWidth:!0,select:!0,label:"Status",children:[t.jsx(n,{value:"pending",children:"Pending"}),t.jsx(n,{value:"working",children:"Working"}),t.jsx(n,{value:"completed",children:"Completed"})]}),t.jsx(h.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsx(S,{fullWidth:!0,variant:"contained",onClick:y,startIcon:t.jsx(A,{}),sx:{mt:3,py:1.4,background:"linear-gradient(135deg,#6a5af9,#9a6bff)",fontWeight:"bold",borderRadius:2},children:b?t.jsx(T,{size:20}):"Edit Feature"})})]})})})})]})},B={mb:2,"& label":{color:"#aaa"},"& label.Mui-focused":{color:"#6a5af9"},"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"#2a2f36"},"&:hover fieldset":{borderColor:"#6a5af9"},"&.Mui-focused fieldset":{borderColor:"#9a6bff"}}};export{G as default};
