import{r as s,q as W,j as e,o as j,B as D,C as M,z as u}from"./index-ClQpEqxL.js";import{S as w}from"./SideBar-d_DjaIJX.js";import{A as k}from"./ApiError-CeZbkGXX.js";import{a as A,b as B}from"./api-DUhR3JNR.js";import{B as E}from"./Box-BszLZfW9.js";import{P as I}from"./Paper-xg8inaSZ.js";import{T as z}from"./Typography-C7b5M9R8.js";import{T as a}from"./TextField-B--B7dVT.js";import{M as t}from"./MenuItem-CvZBGTYk.js";import{A as H}from"./AddTask-BA7Anc6a.js";import"./iconBase-DbznRNvR.js";import"./index-08F9tuo5.js";import"./dividerClasses-CZYNPi2d.js";const U=()=>{const[i,v]=s.useState({title:"",description:"",category:"",priority:""}),[h,y]=s.useState(""),[f,b]=s.useState(""),[C,m]=s.useState(!1),p=localStorage.getItem("TOKEN"),[x,P]=s.useState(""),n=r=>{const{name:l,value:c}=r.target;v(d=>({...d,[l]:c}))},g=W(),S=async()=>{if(!p)return u.error("You are not login"),g("/login");const{title:r,description:l,category:c,priority:d}=i;if(!r||!l||!c||!d||!h||!f)return u.error("all field are required");try{m(!0),await A.post(`${B}/api/project/create/project`,{title:r,description:l,category:c,priority:d,startDate:h,endDate:f},{headers:{Authorization:`Bearer ${p}`}}),u.success("Project Created done"),g("/manageproject")}catch(T){P("api fetching error"),console.log(T),u.error("error")}finally{m(!1)}};return x?e.jsx(k,{error:x}):e.jsxs("div",{className:"dashboard_container",children:[e.jsx(w,{}),e.jsx("main",{children:e.jsx(E,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(j.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsxs(I,{elevation:6,sx:{padding:4,borderRadius:3,background:"#151a1f",minWidth:400},children:[e.jsx(z,{variant:"h5",mb:3,textAlign:"center",color:"#fff",fontWeight:"bold",children:"Create Project"}),e.jsx(a,{fullWidth:!0,label:"Project Title",name:"title",value:i.title,onChange:n,sx:o}),e.jsx(a,{fullWidth:!0,type:"date",value:h,onChange:r=>y(r.target.value),sx:o}),e.jsx(a,{fullWidth:!0,type:"date",value:f,onChange:r=>b(r.target.value),sx:o}),e.jsxs(a,{fullWidth:!0,select:!0,label:"Project Type",name:"category",value:i.category,onChange:n,sx:o,children:[e.jsx(t,{value:"software",children:"Software Development"}),e.jsx(t,{value:"project",children:"Project"}),e.jsx(t,{value:"design",children:"Design"}),e.jsx(t,{value:"marketing",children:"Marketing"}),e.jsx(t,{value:"testing",children:"Testing / QA"}),e.jsx(t,{value:"research",children:"Research"}),e.jsx(t,{value:"maintenance",children:"Maintenance"})]}),e.jsxs(a,{fullWidth:!0,select:!0,label:"Priority",name:"priority",value:i.priority,onChange:n,sx:o,children:[e.jsx(t,{value:"Low",children:"Low"}),e.jsx(t,{value:"Medium",children:"Medium"}),e.jsx(t,{value:"High",children:"High"})]}),e.jsx(a,{fullWidth:!0,multiline:!0,rows:9,label:"Description",name:"description",value:i.description,onChange:n,sx:o}),e.jsx(j.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(D,{fullWidth:!0,variant:"contained",onClick:S,startIcon:e.jsx(H,{}),sx:{mt:3,py:1.4,background:"linear-gradient(135deg,#6a5af9,#9a6bff)",fontWeight:"bold",borderRadius:2},children:C?e.jsx(M,{size:20}):"Create Project"})})]})})})})]})},o={mb:2,"& label":{color:"#aaa"},"& label.Mui-focused":{color:"#6a5af9"},"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"#2a2f36"},"&:hover fieldset":{borderColor:"#6a5af9"},"&.Mui-focused fieldset":{borderColor:"#9a6bff"}}};export{U as default};
