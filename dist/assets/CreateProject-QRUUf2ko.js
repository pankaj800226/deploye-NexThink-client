import{r as s,u as W,j as e,P as D,M as t,B as M,C as w,z as u}from"./index-BW7gK_ch.js";import{S as k}from"./SideBar-DZi7H3vK.js";import{A}from"./ApiError--lr0Hegw.js";import{a as B,b as E}from"./api-DUhR3JNR.js";import{B as I}from"./Box-CLb8pgFE.js";import{m as j}from"./proxy-DPdhoA-x.js";import{T as z}from"./Typography-CXbPZ9go.js";import{T as a}from"./TextField-C6g_lDS8.js";import{A as H}from"./AddTask-C4faER5c.js";import"./iconBase-BfNzzL28.js";const Y=()=>{const[i,v]=s.useState({title:"",description:"",category:"",priority:""}),[h,y]=s.useState(""),[f,b]=s.useState(""),[C,m]=s.useState(!1),p=localStorage.getItem("TOKEN"),[x,P]=s.useState(""),n=r=>{const{name:l,value:c}=r.target;v(d=>({...d,[l]:c}))},g=W(),S=async()=>{if(!p)return u.error("You are not login"),g("/login");const{title:r,description:l,category:c,priority:d}=i;if(!r||!l||!c||!d||!h||!f)return u.error("all field are required");try{m(!0),await B.post(`${E}/api/project/create/project`,{title:r,description:l,category:c,priority:d,startDate:h,endDate:f},{headers:{Authorization:`Bearer ${p}`}}),u.success("Project Created done"),g("/manageproject")}catch(T){P("api fetching error"),console.log(T),u.error("error")}finally{m(!1)}};return x?e.jsx(A,{error:x}):e.jsxs("div",{className:"dashboard_container",children:[e.jsx(k,{}),e.jsx("main",{children:e.jsx(I,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(j.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsxs(D,{elevation:6,sx:{padding:4,borderRadius:3,background:"#151a1f",minWidth:400},children:[e.jsx(z,{variant:"h5",mb:3,textAlign:"center",color:"#fff",fontWeight:"bold",children:"Create Project"}),e.jsx(a,{fullWidth:!0,label:"Project Title",name:"title",value:i.title,onChange:n,sx:o}),e.jsx(a,{fullWidth:!0,type:"date",value:h,onChange:r=>y(r.target.value),sx:o}),e.jsx(a,{fullWidth:!0,type:"date",value:f,onChange:r=>b(r.target.value),sx:o}),e.jsxs(a,{fullWidth:!0,select:!0,label:"Project Type",name:"category",value:i.category,onChange:n,sx:o,children:[e.jsx(t,{value:"software",children:"Software Development"}),e.jsx(t,{value:"project",children:"Project"}),e.jsx(t,{value:"design",children:"Design"}),e.jsx(t,{value:"marketing",children:"Marketing"}),e.jsx(t,{value:"testing",children:"Testing / QA"}),e.jsx(t,{value:"research",children:"Research"}),e.jsx(t,{value:"maintenance",children:"Maintenance"})]}),e.jsxs(a,{fullWidth:!0,select:!0,label:"Priority",name:"priority",value:i.priority,onChange:n,sx:o,children:[e.jsx(t,{value:"Low",children:"Low"}),e.jsx(t,{value:"Medium",children:"Medium"}),e.jsx(t,{value:"High",children:"High"})]}),e.jsx(a,{fullWidth:!0,multiline:!0,rows:9,label:"Description",name:"description",value:i.description,onChange:n,sx:o}),e.jsx(j.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(M,{fullWidth:!0,variant:"contained",onClick:S,startIcon:e.jsx(H,{}),sx:{mt:3,py:1.4,background:"linear-gradient(135deg,#6a5af9,#9a6bff)",fontWeight:"bold",borderRadius:2},children:C?e.jsx(w,{size:20}):"Create Project"})})]})})})})]})},o={mb:2,"& label":{color:"#aaa"},"& label.Mui-focused":{color:"#6a5af9"},"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"#2a2f36"},"&:hover fieldset":{borderColor:"#6a5af9"},"&.Mui-focused fieldset":{borderColor:"#9a6bff"}}};export{Y as default};
