import{c as aa,j as o,i as da,g as pa,r as n,h as ua,K as fa,N as J,b as R,A as q,s as ea,d as s,e as ga,m as ba,O as N,a as va,E as ya,J as $,L as G,B as w,z as Q}from"./index-BwBHtjEM.js";import{S as Ca}from"./SideBar-CNiExJtz.js";import{a as X,b as Y}from"./api-DUhR3JNR.js";import{A as xa}from"./ApiError-BIACpizb.js";import{a as F,T as $a}from"./TextField-BVBGKJgS.js";import{m as z}from"./proxy-C_etEG8Z.js";import{E as Sa}from"./Edit-Bb0tcnNk.js";import{D as ka}from"./Delete-De7_VIIK.js";import"./iconBase-Coflz5dC.js";const ma=aa(o.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function ha(a){return pa("MuiChip",a)}const l=da("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),ja=a=>{const{classes:t,disabled:e,size:i,color:c,iconColor:g,onDelete:u,clickable:p,variant:f}=a,v={root:["root",f,e&&"disabled",`size${s(i)}`,`color${s(c)}`,p&&"clickable",p&&`clickableColor${s(c)}`,u&&"deletable",u&&`deletableColor${s(c)}`,`${f}${s(c)}`],label:["label",`label${s(i)}`],avatar:["avatar",`avatar${s(i)}`,`avatarColor${s(c)}`],icon:["icon",`icon${s(i)}`,`iconColor${s(g)}`],deleteIcon:["deleteIcon",`deleteIcon${s(i)}`,`deleteIconColor${s(c)}`,`deleteIcon${s(f)}Color${s(c)}`]};return ga(v,ha,t)},Ia=ea("div",{name:"MuiChip",slot:"Root",overridesResolver:(a,t)=>{const{ownerState:e}=a,{color:i,iconColor:c,clickable:g,onDelete:u,size:p,variant:f}=e;return[{[`& .${l.avatar}`]:t.avatar},{[`& .${l.avatar}`]:t[`avatar${s(p)}`]},{[`& .${l.avatar}`]:t[`avatarColor${s(i)}`]},{[`& .${l.icon}`]:t.icon},{[`& .${l.icon}`]:t[`icon${s(p)}`]},{[`& .${l.icon}`]:t[`iconColor${s(c)}`]},{[`& .${l.deleteIcon}`]:t.deleteIcon},{[`& .${l.deleteIcon}`]:t[`deleteIcon${s(p)}`]},{[`& .${l.deleteIcon}`]:t[`deleteIconColor${s(i)}`]},{[`& .${l.deleteIcon}`]:t[`deleteIcon${s(f)}Color${s(i)}`]},t.root,t[`size${s(p)}`],t[`color${s(i)}`],g&&t.clickable,g&&i!=="default"&&t[`clickableColor${s(i)}`],u&&t.deletable,u&&i!=="default"&&t[`deletableColor${s(i)}`],t[f],t[`${f}${s(i)}`]]}})(ba(({theme:a})=>{const t=a.palette.mode==="light"?a.palette.grey[700]:a.palette.grey[300];return{maxWidth:"100%",fontFamily:a.typography.fontFamily,fontSize:a.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(a.vars||a).palette.text.primary,backgroundColor:(a.vars||a).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:a.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${l.disabled}`]:{opacity:(a.vars||a).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${l.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:a.vars?a.vars.palette.Chip.defaultAvatarColor:t,fontSize:a.typography.pxToRem(12)},[`& .${l.avatarColorPrimary}`]:{color:(a.vars||a).palette.primary.contrastText,backgroundColor:(a.vars||a).palette.primary.dark},[`& .${l.avatarColorSecondary}`]:{color:(a.vars||a).palette.secondary.contrastText,backgroundColor:(a.vars||a).palette.secondary.dark},[`& .${l.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:a.typography.pxToRem(10)},[`& .${l.icon}`]:{marginLeft:5,marginRight:-6},[`& .${l.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:a.alpha((a.vars||a).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:a.alpha((a.vars||a).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${l.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${l.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(a.palette).filter(N(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(a.vars||a).palette[e].main,color:(a.vars||a).palette[e].contrastText,[`& .${l.deleteIcon}`]:{color:a.alpha((a.vars||a).palette[e].contrastText,.7),"&:hover, &:active":{color:(a.vars||a).palette[e].contrastText}}}})),{props:e=>e.iconColor===e.color,style:{[`& .${l.icon}`]:{color:a.vars?a.vars.palette.Chip.defaultIconColor:t}}},{props:e=>e.iconColor===e.color&&e.color!=="default",style:{[`& .${l.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${l.focusVisible}`]:{backgroundColor:a.alpha((a.vars||a).palette.action.selected,`${(a.vars||a).palette.action.selectedOpacity} + ${(a.vars||a).palette.action.focusOpacity}`)}}},...Object.entries(a.palette).filter(N(["dark"])).map(([e])=>({props:{color:e,onDelete:!0},style:{[`&.${l.focusVisible}`]:{background:(a.vars||a).palette[e].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:a.alpha((a.vars||a).palette.action.selected,`${(a.vars||a).palette.action.selectedOpacity} + ${(a.vars||a).palette.action.hoverOpacity}`)},[`&.${l.focusVisible}`]:{backgroundColor:a.alpha((a.vars||a).palette.action.selected,`${(a.vars||a).palette.action.selectedOpacity} + ${(a.vars||a).palette.action.focusOpacity}`)},"&:active":{boxShadow:(a.vars||a).shadows[1]}}},...Object.entries(a.palette).filter(N(["dark"])).map(([e])=>({props:{color:e,clickable:!0},style:{[`&:hover, &.${l.focusVisible}`]:{backgroundColor:(a.vars||a).palette[e].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:a.vars?`1px solid ${a.vars.palette.Chip.defaultBorder}`:`1px solid ${a.palette.mode==="light"?a.palette.grey[400]:a.palette.grey[700]}`,[`&.${l.clickable}:hover`]:{backgroundColor:(a.vars||a).palette.action.hover},[`&.${l.focusVisible}`]:{backgroundColor:(a.vars||a).palette.action.focus},[`& .${l.avatar}`]:{marginLeft:4},[`& .${l.avatarSmall}`]:{marginLeft:2},[`& .${l.icon}`]:{marginLeft:4},[`& .${l.iconSmall}`]:{marginLeft:2},[`& .${l.deleteIcon}`]:{marginRight:5},[`& .${l.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(a.palette).filter(N()).map(([e])=>({props:{variant:"outlined",color:e},style:{color:(a.vars||a).palette[e].main,border:`1px solid ${a.alpha((a.vars||a).palette[e].main,.7)}`,[`&.${l.clickable}:hover`]:{backgroundColor:a.alpha((a.vars||a).palette[e].main,(a.vars||a).palette.action.hoverOpacity)},[`&.${l.focusVisible}`]:{backgroundColor:a.alpha((a.vars||a).palette[e].main,(a.vars||a).palette.action.focusOpacity)},[`& .${l.deleteIcon}`]:{color:a.alpha((a.vars||a).palette[e].main,.7),"&:hover, &:active":{color:(a.vars||a).palette[e].main}}}}))]}})),wa=ea("span",{name:"MuiChip",slot:"Label",overridesResolver:(a,t)=>{const{ownerState:e}=a,{size:i}=e;return[t.label,t[`label${s(i)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Z(a){return a.key==="Backspace"||a.key==="Delete"}const Pa=n.forwardRef(function(t,e){const i=ua({props:t,name:"MuiChip"}),{avatar:c,className:g,clickable:u,color:p="default",component:f,deleteIcon:v,disabled:S=!1,icon:y,label:m,onClick:I,onDelete:b,onKeyDown:P,onKeyUp:T,size:L="medium",variant:D="filled",tabIndex:E,skipFocusWhenDisabled:M=!1,slots:r={},slotProps:C={},...h}=i,j=n.useRef(null),oa=fa(j,e),K=d=>{d.stopPropagation(),b&&b(d)},ra=d=>{d.currentTarget===d.target&&Z(d)&&d.preventDefault(),P&&P(d)},la=d=>{d.currentTarget===d.target&&b&&Z(d)&&b(d),T&&T(d)},O=u!==!1&&I?!0:u,_=O||b?J:f||"div",V={...i,component:_,disabled:S,size:L,color:p,iconColor:n.isValidElement(y)&&y.props.color||p,onDelete:!!b,clickable:O,variant:D},k=ja(V),ta=_===J?{component:f||"div",focusVisibleClassName:k.focusVisible,...b&&{disableRipple:!0}}:{};let H=null;b&&(H=v&&n.isValidElement(v)?n.cloneElement(v,{className:R(v.props.className,k.deleteIcon),onClick:K}):o.jsx(ma,{className:k.deleteIcon,onClick:K}));let W=null;c&&n.isValidElement(c)&&(W=n.cloneElement(c,{className:R(k.avatar,c.props.className)}));let U=null;y&&n.isValidElement(y)&&(U=n.cloneElement(y,{className:R(k.icon,y.props.className)}));const B={slots:r,slotProps:C},[ia,sa]=q("root",{elementType:Ia,externalForwardedProps:{...B,...h},ownerState:V,shouldForwardComponentProp:!0,ref:oa,className:R(k.root,g),additionalProps:{disabled:O&&S?!0:void 0,tabIndex:M&&S?-1:E,...ta},getSlotProps:d=>({...d,onClick:x=>{d.onClick?.(x),I?.(x)},onKeyDown:x=>{d.onKeyDown?.(x),ra(x)},onKeyUp:x=>{d.onKeyUp?.(x),la(x)}})}),[na,ca]=q("label",{elementType:wa,externalForwardedProps:B,ownerState:V,className:k.label});return o.jsxs(ia,{as:_,...sa,children:[W||U,o.jsx(na,{...ca,children:m}),H]})}),Ta=aa(o.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),La=(a,t)=>{const e=va.c(4),i=t,[c,g]=n.useState(a);let u,p;return e[0]!==i||e[1]!==a?(u=()=>{const f=setTimeout(()=>{g(a)},i);return()=>clearTimeout(f)},p=[a,i],e[0]=i,e[1]=a,e[2]=u,e[3]=p):(u=e[2],p=e[3]),n.useEffect(u,p),c},Fa=()=>{const[a,t]=n.useState([]),[e,i]=n.useState(!1),[c,g]=n.useState(""),[u,p]=n.useState(""),[f,v]=n.useState(""),[S,y]=n.useState(""),[m,I]=n.useState(1),[b,P]=n.useState(1),T=La(c,500);n.useEffect(()=>{const r=new AbortController;return console.log(r),(async()=>{const h=localStorage.getItem("TOKEN");if(h)try{i(!0);const j=await X.get(`${Y}/api/todo/getTask?page=${m}`,{headers:{Authorization:`Bearer ${h}`}});t(j.data.findTask),P(j.data.totalPage)}catch(j){console.log(j),p("Api Fetching Error")}finally{i(!1)}})(),()=>r.abort()},[m]);const L=a.filter(r=>r.title.toLowerCase().includes(T.toLowerCase())&&(!f||r.category===f)&&(!S||r.priority===S)),D=r=>r==="pending"?"warning":r==="inprogress"?"info":r==="completed"?"success":"default",E=r=>r==="High"?"#ff4d4d":r==="Medium"?"#ffb703":"#4ade80",M=async r=>{try{await X.delete(`${Y}/api/todo/deleteTask/${r}`),t(C=>C.filter(h=>h._id!==r)),Q.success("Task Deleted Successfully")}catch(C){console.log(C),Q.error("Something went wrong")}};return e?o.jsx(ya,{}):u?o.jsx(xa,{error:u}):o.jsxs("div",{className:"dashboard_container",children:[o.jsx(Ca,{}),o.jsxs("main",{children:[o.jsxs("div",{className:"todo_manage_search",children:[o.jsx(F,{fullWidth:!0,label:"Search Task",sx:A,value:c,onChange:r=>g(r.target.value)}),o.jsxs(F,{value:f,onChange:r=>v(r.target.value),fullWidth:!0,select:!0,label:"Category",sx:A,children:[o.jsx($,{value:"",children:"ALL"}),o.jsx($,{value:"Work",children:"Work"}),o.jsx($,{value:"Personal",children:"Personal"}),o.jsx($,{value:"Study",children:"Study"})]}),o.jsxs(F,{value:S,onChange:r=>y(r.target.value),fullWidth:!0,select:!0,label:"Priority",sx:A,children:[o.jsx($,{value:"",children:"ALL"}),o.jsx($,{value:"Low",children:"Low"}),o.jsx($,{value:"Medium",children:"Medium"}),o.jsx($,{value:"High",children:"High"})]})]}),o.jsx("div",{className:"todo_manage_container",children:L.length===0?o.jsx("h2",{style:{color:"#fff"},children:"Task Not Found"}):L.map((r,C)=>o.jsxs(z.div,{className:"todo_card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.1,duration:.5},whileHover:{scale:1.03,boxShadow:"0 0 15px rgba(255,255,255,0.2)"},children:[o.jsxs("div",{className:"todo_status",children:[o.jsx(Pa,{label:r.status,size:"small",color:D(r.status)}),o.jsx("span",{className:"priority",style:{background:E(r.priority)},children:r.priority})]}),o.jsx("h3",{style:{color:"#fff"},children:r.title}),o.jsx($a,{className:"description",children:r.description.substring(0,100)}),o.jsxs("div",{className:"todo_action",children:[o.jsx(G,{to:`/todoDetails/${r._id}`,children:o.jsx(z.div,{whileHover:{scale:1.2},children:o.jsx(w,{className:"edit_btn",children:o.jsx(Ta,{})})})}),o.jsx(G,{to:`/todoEdit/${r._id}`,children:o.jsx(z.div,{whileHover:{scale:1.2},children:o.jsx(w,{className:"edit_btn",children:o.jsx(Sa,{})})})}),o.jsx(z.div,{whileHover:{scale:1.2},children:o.jsx(w,{onClick:()=>M(r._id),className:"delete_btn",children:o.jsx(ka,{})})})]})]},r._id))}),o.jsxs("div",{className:"pagination_controls",children:[o.jsx(w,{disabled:m===1,onClick:()=>I(r=>r-1),variant:"outlined",children:"Prev"}),o.jsx(w,{disabled:m===b,onClick:()=>I(r=>r+1),variant:"outlined",children:"Next"})]})]})]})},A={mb:2,"& label":{color:"#aaa"},"& label.Mui-focused":{color:"#6a5af9"},"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"#2a2f36"},"&:hover fieldset":{borderColor:"#6a5af9"},"&.Mui-focused fieldset":{borderColor:"#9a6bff"}}};export{Fa as default};
