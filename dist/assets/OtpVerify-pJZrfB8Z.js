import{r as P,a as ne,u as oe,j as y,B as H,z as B,L as ie}from"./index-CFw7QNrO.js";import{a as ae,b as se}from"./api-DUhR3JNR.js";import{T as ce}from"./TextField-BuEwsmCw.js";import{B as L}from"./Box-DLoZB9m7.js";import{T as le}from"./Typography-DzvG7ZMc.js";import{S as ue}from"./Send-C4Quulwo.js";import{D as fe}from"./Divider-Ck56q-rb.js";var N={exports:{}},W,Y;function pe(){if(Y)return W;Y=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return W=e,W}var F,G;function me(){if(G)return F;G=1;var e=pe();function n(){}function o(){}return o.resetWarningCache=n,F=function(){function r(a,s,l,m,p,u){if(u!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function t(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:t,element:r,elementType:r,instanceOf:t,node:r,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:n};return i.PropTypes=i,i},F}var J;function de(){return J||(J=1,N.exports=me()()),N.exports}var c=de();function K(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function he(e,n){for(var o=0;o<n.length;o++){var r=n[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,n,o){return n&&he(e.prototype,n),e}function X(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&U(e,n)}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},$(e)}function U(e,n){return U=Object.setPrototypeOf||function(r,t){return r.__proto__=t,r},U(e,n)}function ye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Te(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e,n){return n&&(typeof n=="object"||typeof n=="function")?n:Te(e)}function Z(e){var n=ye();return function(){var r=$(e),t;if(n){var i=$(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return ve(this,t)}}function Se(e){return ge(e)||be(e)||Pe(e)||_e()}function ge(e){if(Array.isArray(e))return V(e)}function be(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Pe(e,n){if(e){if(typeof e=="string")return V(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return V(e,n)}}function V(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,r=new Array(n);o<n;o++)r[o]=e[o];return r}function _e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,o=String(e);if(n===0)return o;var r=o.match(/(.*?)([0-9]+)(.*)/),t=r?r[1]:"",i=r?r[3]:"",a=r?r[2]:o,s=a.length>=n?a:(Se(Array(n)).map(function(){return"0"}).join("")+a).slice(n*-1);return"".concat(t).concat(s).concat(i)}var ee={daysInHours:!1,zeroPadTime:2};function De(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=n.now,r=o===void 0?Date.now:o,t=n.precision,i=t===void 0?0:t,a=n.controlled,s=n.offsetTime,l=s===void 0?0:s,m=n.overtime,p;typeof e=="string"?p=new Date(e).getTime():e instanceof Date?p=e.getTime():p=e,a||(p+=l);var u=a?p:p-r(),f=Math.min(20,Math.max(0,i)),h=Math.round(parseFloat(((m?u:Math.max(0,u))/1e3).toFixed(f))*1e3),d=Math.abs(h)/1e3;return{total:h,days:Math.floor(d/(3600*24)),hours:Math.floor(d/3600%24),minutes:Math.floor(d/60%60),seconds:Math.floor(d%60),milliseconds:Number((d%1*1e3).toFixed()),completed:h<=0}}function Oe(e,n){var o=e.days,r=e.hours,t=e.minutes,i=e.seconds,a=Object.assign(Object.assign({},ee),n),s=a.daysInHours,l=a.zeroPadTime,m=a.zeroPadDays,p=m===void 0?l:m,u=Math.min(2,l),f=s?R(r+o*24,l):R(r,u);return{days:s?"":R(o,p),hours:f,minutes:R(t,u),seconds:R(i,u)}}var te=(function(e){X(o,e);var n=Z(o);function o(){var r;return K(this,o),r=n.apply(this,arguments),r.state={count:r.props.count||3},r.startCountdown=function(){r.interval=window.setInterval(function(){var t=r.state.count-1;t===0?(r.stopCountdown(),r.props.onComplete&&r.props.onComplete()):r.setState(function(i){return{count:i.count-1}})},1e3)},r.stopCountdown=function(){clearInterval(r.interval)},r.addTime=function(t){r.stopCountdown(),r.setState(function(i){return{count:i.count+t}},r.startCountdown)},r}return Q(o,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?P.cloneElement(this.props.children,{count:this.state.count}):null}}]),o})(P.Component);te.propTypes={count:c.number,children:c.element,onComplete:c.func};var q=(function(e){X(o,e);var n=Z(o);function o(r){var t;if(K(this,o),t=n.call(this,r),t.mounted=!1,t.initialTimestamp=t.calcOffsetStartTimestamp(),t.offsetStartTimestamp=t.props.autoStart?0:t.initialTimestamp,t.offsetTime=0,t.legacyMode=!1,t.legacyCountdownRef=null,t.tick=function(){var a=t.calcTimeDelta(),s=a.completed&&!t.props.overtime?void 0:t.props.onTick;t.setTimeDeltaState(a,void 0,s)},t.setLegacyCountdownRef=function(a){t.legacyCountdownRef=a},t.start=function(){if(!t.isStarted()){var a=t.offsetStartTimestamp;t.offsetStartTimestamp=0,t.offsetTime+=a?t.calcOffsetStartTimestamp()-a:0;var s=t.calcTimeDelta();t.setTimeDeltaState(s,"STARTED",t.props.onStart),!t.props.controlled&&(!s.completed||t.props.overtime)&&(t.clearTimer(),t.interval=window.setInterval(t.tick,t.props.intervalDelay))}},t.pause=function(){t.isPaused()||(t.clearTimer(),t.offsetStartTimestamp=t.calcOffsetStartTimestamp(),t.setTimeDeltaState(t.state.timeDelta,"PAUSED",t.props.onPause))},t.stop=function(){t.isStopped()||(t.clearTimer(),t.offsetStartTimestamp=t.calcOffsetStartTimestamp(),t.offsetTime=t.offsetStartTimestamp-t.initialTimestamp,t.setTimeDeltaState(t.calcTimeDelta(),"STOPPED",t.props.onStop))},t.isStarted=function(){return t.isStatus("STARTED")},t.isPaused=function(){return t.isStatus("PAUSED")},t.isStopped=function(){return t.isStatus("STOPPED")},t.isCompleted=function(){return t.isStatus("COMPLETED")},r.date){var i=t.calcTimeDelta();t.state={timeDelta:i,status:i.completed?"COMPLETED":"STOPPED"}}else t.legacyMode=!0;return t}return Q(o,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(t){this.legacyMode||this.props.date!==t.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var t=this.props,i=t.date,a=t.now,s=t.precision,l=t.controlled,m=t.overtime;return De(i,{now:a,precision:s,controlled:l,offsetTime:this.offsetTime,overtime:m})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(t){this.legacyCountdownRef.addTime(t)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(t){return this.state.status===t}},{key:"setTimeDeltaState",value:function(t,i,a){var s=this;if(this.mounted){var l=t.completed&&!this.state.timeDelta.completed,m=t.completed&&i==="STARTED";l&&!this.props.overtime&&this.clearTimer();var p=function(){a&&a(s.state.timeDelta),s.props.onComplete&&(l||m)&&s.props.onComplete(t,m)};return this.setState(function(u){var f=i||u.status;return t.completed&&!s.props.overtime?f="COMPLETED":!i&&f==="COMPLETED"&&(f="STOPPED"),{timeDelta:t,status:f}},p)}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var t=this.props,i=t.daysInHours,a=t.zeroPadTime,s=t.zeroPadDays,l=this.state.timeDelta;return Object.assign(Object.assign({},l),{api:this.getApi(),props:this.props,formatted:Oe(l,{daysInHours:i,zeroPadTime:a,zeroPadDays:s})})}},{key:"render",value:function(){if(this.legacyMode){var t=this.props,i=t.count,a=t.children,s=t.onComplete;return P.createElement(te,{ref:this.setLegacyCountdownRef,count:i,onComplete:s},a)}var l=this.props,m=l.className,p=l.overtime,u=l.children,f=l.renderer,h=this.getRenderProps();if(f)return f(h);if(u&&this.state.timeDelta.completed&&!p)return P.cloneElement(u,{countdown:h});var d=h.formatted,g=d.days,T=d.hours,v=d.minutes,S=d.seconds;return P.createElement("span",{className:m},h.total<0?"-":"",g,g?":":"",T,":",v,":",S)}}]),o})(P.Component);q.defaultProps=Object.assign(Object.assign({},ee),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0});q.propTypes={date:c.oneOfType([c.instanceOf(Date),c.string,c.number]),daysInHours:c.bool,zeroPadTime:c.number,zeroPadDays:c.number,controlled:c.bool,intervalDelay:c.number,precision:c.number,autoStart:c.bool,overtime:c.bool,className:c.string,children:c.element,renderer:c.func,now:c.func,onMount:c.func,onStart:c.func,onPause:c.func,onStop:c.func,onTick:c.func,onComplete:c.func};const Ae=()=>{const e=ne.c(44),n=oe();let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=localStorage.getItem("resetEmail"),e[0]=o):o=e[0];const r=o;let t;e[1]===Symbol.for("react.memo_cache_sentinel")?(t=["","","","","",""],e[1]=t):t=e[1];const[i,a]=P.useState(t);let s;e[2]===Symbol.for("react.memo_cache_sentinel")?(s=[],e[2]=s):s=e[2];const l=P.useRef(s);let m,p,u,f,h,d,g,T,v,S;if(e[3]!==n||e[4]!==i){const re=(_,b)=>{if(!/^\d?$/.test(_))return;const x=[...i];x[b]=_,a(x),_&&b<5&&l.current[b+1]?.focus()};f=async()=>{try{await ae.post(`${se}/api/user/otpVerify`,{email:r,otp:i.join("")}),n("/updatepassword"),B.success("OTP Verified Successfully")}catch(_){console.log(_),B.error("Invalid OTP")}},u=L,e[15]===Symbol.for("react.memo_cache_sentinel")?(S={minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},e[15]=S):S=e[15],p=L,e[16]===Symbol.for("react.memo_cache_sentinel")?(T={width:380,p:4,boxShadow:"0 0 20px rgba(0,0,0,0.6)",borderRadius:2},v=y.jsx(le,{variant:"h5",align:"center",mb:3,color:"#fff",children:"OTP Verification"}),e[16]=T,e[17]=v):(T=e[16],v=e[17]),m=L,h="flex",d="space-between",g=i.map((_,b)=>y.jsx(ce,{inputRef:x=>l.current[b]=x,value:_,onChange:x=>re(x.target.value,b),inputProps:{maxLength:1,style:{textAlign:"center",fontSize:"20px",color:"#fff"}},sx:{width:48,"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#444"},"&:hover fieldset":{borderColor:"#666"},"&.Mui-focused fieldset":{borderColor:"#1976d2"}}}},b)),e[3]=n,e[4]=i,e[5]=m,e[6]=p,e[7]=u,e[8]=f,e[9]=h,e[10]=d,e[11]=g,e[12]=T,e[13]=v,e[14]=S}else m=e[5],p=e[6],u=e[7],f=e[8],h=e[9],d=e[10],g=e[11],T=e[12],v=e[13],S=e[14];let D;e[18]!==m||e[19]!==h||e[20]!==d||e[21]!==g?(D=y.jsx(m,{display:h,justifyContent:d,children:g}),e[18]=m,e[19]=h,e[20]=d,e[21]=g,e[22]=D):D=e[22];let O;e[23]!==i?(O=i.some(we),e[23]=i,e[24]=O):O=e[24];let j;e[25]===Symbol.for("react.memo_cache_sentinel")?(j=y.jsx(ue,{}),e[25]=j):j=e[25];let E;e[26]===Symbol.for("react.memo_cache_sentinel")?(E={mt:3},e[26]=E):E=e[26];let w;e[27]!==f||e[28]!==O?(w=y.jsx(H,{disabled:O,endIcon:j,fullWidth:!0,variant:"contained",sx:E,onClick:f,children:"Verify"}),e[27]=f,e[28]=O,e[29]=w):w=e[29];let M;e[30]===Symbol.for("react.memo_cache_sentinel")?(M=y.jsx(fe,{sx:{my:2,color:"#777"},children:"OR"}),e[30]=M):M=e[30];let k;e[31]===Symbol.for("react.memo_cache_sentinel")?(k={textDecoration:"none"},e[31]=k):k=e[31];let I;e[32]===Symbol.for("react.memo_cache_sentinel")?(I=y.jsx(ie,{to:"/login",style:k,children:y.jsx(H,{fullWidth:!0,variant:"outlined",sx:{borderColor:"#555",color:"#fff","&:hover":{borderColor:"#1976d2",backgroundColor:"rgba(25,118,210,0.1)"}},children:"Login"})}),e[32]=I):I=e[32];let A;e[33]===Symbol.for("react.memo_cache_sentinel")?(A=y.jsx(q,{renderer:Ce,date:new Date().getTime()+6e5}),e[33]=A):A=e[33];let C;e[34]!==p||e[35]!==w||e[36]!==T||e[37]!==v||e[38]!==D?(C=y.jsxs(p,{sx:T,children:[v,D,w,M,I,A]}),e[34]=p,e[35]=w,e[36]=T,e[37]=v,e[38]=D,e[39]=C):C=e[39];let z;return e[40]!==u||e[41]!==C||e[42]!==S?(z=y.jsx(u,{sx:S,children:C}),e[40]=u,e[41]=C,e[42]=S,e[43]=z):z=e[43],z};function we(e){return e===""}function Ce(e){const{minutes:n,seconds:o,completed:r}=e;return r?y.jsx(H,{variant:"text",children:"resend"}):y.jsxs("span",{children:[n," : ",o<10?`0${o}`:o,""]})}export{Ae as default};
