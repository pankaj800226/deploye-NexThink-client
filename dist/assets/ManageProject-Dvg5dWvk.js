import{r as d,a as m,g as h,u as v,j as t,s as C,e as T,h as j,m as H,f as y,p as X,L as P,I as E,z as N}from"./index-D-aXfya8.js";import{S as J}from"./SideBar-DUA-0dNI.js";import{V as K}from"./Visibility-B31ZkqK5.js";import{E as Q}from"./Edit-CzRBUGm_.js";import{D as q}from"./Delete-DBcG30tU.js";import{a as U,b as W}from"./api-CDOf7xde.js";import{A as G}from"./ApiError-Cvx_Slwg.js";import{u as Y,P as Z}from"./Paper-Dd2lGMcw.js";import{u as oo}from"./index-7HGjiVzi.js";import{T as eo}from"./Typography-BkBcNPM4.js";import"./iconBase-BOWpTOxr.js";import"./getThemeProps-CP5Hsce3.js";const O=d.createContext();function to(o){return m("MuiTable",o)}h("MuiTable",["root","stickyHeader"]);const so=o=>{const{classes:e,stickyHeader:s}=o;return j({root:["root",s&&"stickyHeader"]},to,e)},ao=C("table",{name:"MuiTable",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:s}=o;return[e.root,s.stickyHeader&&e.stickyHeader]}})(H(({theme:o})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...o.typography.body2,padding:o.spacing(2),color:(o.vars||o).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),D="table",ro=d.forwardRef(function(e,s){const r=v({props:e,name:"MuiTable"}),{className:i,component:l=D,padding:c="normal",size:a="medium",stickyHeader:p=!1,...g}=r,b={...r,component:l,padding:c,size:a,stickyHeader:p},n=so(b),u=d.useMemo(()=>({padding:c,size:a,stickyHeader:p}),[c,a,p]);return t.jsx(O.Provider,{value:u,children:t.jsx(ao,{as:l,role:l===D?null:"table",ref:s,className:T(n.root,i),ownerState:b,...g})})}),M=d.createContext();function lo(o){return m("MuiTableBody",o)}h("MuiTableBody",["root"]);const no=o=>{const{classes:e}=o;return j({root:["root"]},lo,e)},io=C("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),co={variant:"body"},F="tbody",po=d.forwardRef(function(e,s){const r=v({props:e,name:"MuiTableBody"}),{className:i,component:l=F,...c}=r,a={...r,component:l},p=no(a);return t.jsx(M.Provider,{value:co,children:t.jsx(io,{className:T(p.root,i),as:l,ref:s,role:l===F?null:"rowgroup",ownerState:a,...c})})});function uo(o){return m("MuiTableCell",o)}const bo=h("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),fo=o=>{const{classes:e,variant:s,align:r,padding:i,size:l,stickyHeader:c}=o,a={root:["root",s,c&&"stickyHeader",r!=="inherit"&&`align${y(r)}`,i!=="normal"&&`padding${y(i)}`,`size${y(l)}`]};return j(a,uo,e)},go=C("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:s}=o;return[e.root,e[s.variant],e[`size${y(s.size)}`],s.padding!=="normal"&&e[`padding${y(s.padding)}`],s.align!=="inherit"&&e[`align${y(s.align)}`],s.stickyHeader&&e.stickyHeader]}})(H(({theme:o})=>({...o.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:o.vars?`1px solid ${o.vars.palette.TableCell.border}`:`1px solid
    ${o.palette.mode==="light"?o.lighten(o.alpha(o.palette.divider,1),.88):o.darken(o.alpha(o.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(o.vars||o).palette.text.primary,lineHeight:o.typography.pxToRem(24),fontWeight:o.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(o.vars||o).palette.text.primary}},{props:{variant:"footer"},style:{color:(o.vars||o).palette.text.secondary,lineHeight:o.typography.pxToRem(21),fontSize:o.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${bo.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(o.vars||o).palette.background.default}}]}))),f=d.forwardRef(function(e,s){const r=v({props:e,name:"MuiTableCell"}),{align:i="inherit",className:l,component:c,padding:a,scope:p,size:g,sortDirection:b,variant:n,...u}=r,x=d.useContext(O),R=d.useContext(M),S=R&&R.variant==="head";let w;c?w=c:w=S?"th":"td";let k=p;w==="td"?k=void 0:!k&&S&&(k="col");const z=n||R&&R.variant,A={...r,align:i,component:w,padding:a||(x&&x.padding?x.padding:"normal"),size:g||(x&&x.size?x.size:"medium"),sortDirection:b,stickyHeader:z==="head"&&x&&x.stickyHeader,variant:z},V=fo(A);let B=null;return b&&(B=b==="asc"?"ascending":"descending"),t.jsx(go,{as:w,ref:s,className:T(V.root,l),"aria-sort":B,scope:k,ownerState:A,...u})});function xo(o){return m("MuiTableContainer",o)}h("MuiTableContainer",["root"]);const yo=o=>{const{classes:e}=o;return j({root:["root"]},xo,e)},mo=C("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),ho=d.forwardRef(function(e,s){const r=v({props:e,name:"MuiTableContainer"}),{className:i,component:l="div",...c}=r,a={...r,component:l},p=yo(a);return t.jsx(mo,{ref:s,as:l,className:T(p.root,i),ownerState:a,...c})});function vo(o){return m("MuiTableHead",o)}h("MuiTableHead",["root"]);const Co=o=>{const{classes:e}=o;return j({root:["root"]},vo,e)},To=C("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),jo={variant:"head"},_="thead",wo=d.forwardRef(function(e,s){const r=v({props:e,name:"MuiTableHead"}),{className:i,component:l=_,...c}=r,a={...r,component:l},p=Co(a);return t.jsx(M.Provider,{value:jo,children:t.jsx(To,{as:l,className:T(p.root,i),ref:s,role:l===_?null:"rowgroup",ownerState:a,...c})})});function Ro(o){return m("MuiTableRow",o)}const L=h("MuiTableRow",["root","selected","hover","head","footer"]),ko=o=>{const{classes:e,selected:s,hover:r,head:i,footer:l}=o;return j({root:["root",s&&"selected",r&&"hover",i&&"head",l&&"footer"]},Ro,e)},Mo=C("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:s}=o;return[e.root,s.head&&e.head,s.footer&&e.footer]}})(H(({theme:o})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${L.hover}:hover`]:{backgroundColor:(o.vars||o).palette.action.hover},[`&.${L.selected}`]:{backgroundColor:o.alpha((o.vars||o).palette.primary.main,(o.vars||o).palette.action.selectedOpacity),"&:hover":{backgroundColor:o.alpha((o.vars||o).palette.primary.main,`${(o.vars||o).palette.action.selectedOpacity} + ${(o.vars||o).palette.action.hoverOpacity}`)}}}))),I="tr",$=d.forwardRef(function(e,s){const r=v({props:e,name:"MuiTableRow"}),{className:i,component:l=I,hover:c=!1,selected:a=!1,...p}=r,g=d.useContext(M),b={...r,component:l,hover:c,selected:a,head:g&&g.variant==="head",footer:g&&g.variant==="footer"},n=ko(b);return t.jsx(Mo,{as:l,ref:s,className:T(n.root,i),role:l===I?null:"row",ownerState:b,...p})}),Fo=()=>{const[o,e]=d.useState([]),[s,r]=d.useState(!1),[i,l]=d.useState(""),c=Y(),a=oo(c.breakpoints.down("sm")),p=async()=>{const n=localStorage.getItem("TOKEN");if(n)try{r(!0);const u=await U.get(`${W}/api/project/getProject`,{headers:{Authorization:`Bearer ${n}`}});e(u.data.findProject)}catch(u){console.error(u),l("Api Fetching Error")}finally{r(!1)}};d.useEffect(()=>{p()},[]);const g=n=>{switch(n.toLowerCase()){case"completed":return"#22c55e";case"working":return"#6a5af9";case"pending":return"#facc15";default:return"#E0E0E0"}},b=async n=>{try{await U.delete(`${W}/api/project/project/delete/${n}`),e(u=>u.filter(x=>x._id!==n)),N.success("project delete sucessfully")}catch(u){console.log(u),N.error("error")}};return s?t.jsx(X,{}):i?t.jsx(G,{error:i}):t.jsxs("div",{className:"dashboard_container",children:[t.jsx(J,{}),t.jsx("main",{style:{backgroundColor:"#0F1214",minHeight:"100vh",padding:"20px"},children:t.jsxs(ho,{component:Z,sx:{mt:2,backgroundColor:"#14181B",borderRadius:2,boxShadow:"0 0 10px rgba(0,0,0,0.5)",overflowX:"auto"},children:[t.jsx(eo,{variant:"h6",sx:{p:2,color:"#fff",borderBottom:"1px solid #2A2E33"},children:"Manage Projects"}),t.jsxs(ro,{children:[t.jsx(wo,{children:t.jsxs($,{sx:{backgroundColor:"#1B1F23"},children:[t.jsx(f,{sx:{color:"#fff",fontWeight:"bold"},children:"Title"}),!a&&t.jsx(f,{sx:{color:"#fff",fontWeight:"bold"},children:"Category"}),t.jsx(f,{sx:{color:"#fff",fontWeight:"bold"},children:"Status"}),!a&&t.jsx(f,{sx:{color:"#fff",fontWeight:"bold"},children:"Priority"}),t.jsx(f,{align:"center",sx:{color:"#fff",fontWeight:"bold"},children:"Actions"})]})}),t.jsx(po,{children:o&&o.length>0?o.map((n,u)=>t.jsxs($,{sx:{"&:hover":{backgroundColor:"#1A1E22"}},children:[t.jsx(f,{sx:{color:"#E0E0E0",borderColor:"#2A2E33"},children:n.title}),!a&&t.jsx(f,{sx:{color:"#E0E0E0",borderColor:"#2A2E33"},children:n.category}),t.jsx(f,{sx:{color:g(n.status),fontWeight:"bold",borderColor:"#2A2E33"},children:n.status}),!a&&t.jsx(f,{sx:{color:"#E0E0E0",borderColor:"#2A2E33"},children:n.priority}),t.jsxs(f,{align:"center",sx:{borderColor:"#2A2E33"},children:[t.jsx(P,{to:`/projectdetails/${n._id}`,children:t.jsx(E,{"aria-label":"view",size:a?"small":"medium",sx:{color:"#4FC3F7"},children:t.jsx(K,{fontSize:a?"small":"medium"})})}),t.jsx(P,{to:`/projectedit/${n._id}`,children:t.jsx(E,{"aria-label":"edit",size:a?"small":"medium",sx:{color:"#FFB74D"},children:t.jsx(Q,{fontSize:a?"small":"medium"})})}),t.jsx(E,{onClick:()=>b(n._id),"aria-label":"delete",size:a?"small":"medium",sx:{color:"#E57373"},children:t.jsx(q,{fontSize:a?"small":"medium"})})]})]},n._id||u)):t.jsx($,{children:t.jsx(f,{colSpan:5,align:"center",sx:{color:"#B0B0B0"},children:"No projects found"})})})]})]})})]})};export{Fo as default};
