import{r as a,x as E,q as P,j as t,o as h,B as S,C as T,z as i}from"./index-BxPa0GNL.js";import{S as k}from"./SideBar-j88aNnHy.js";import{A as W}from"./ApiError-DejuQA7b.js";import{a as g,b as x}from"./api-DUhR3JNR.js";import{B as I}from"./Box-Brc4H4eR.js";import{P as w}from"./Paper-CMfUTTfD.js";import{T as A}from"./Typography-BJJRhZAd.js";import{T as j}from"./TextField-a0UQVqiY.js";import{M as n}from"./MenuItem-Dcc3-Rth.js";import{A as B}from"./AddTask-sYEZlCL3.js";import"./iconBase-BaWD4X7n.js";import"./index-BZl8lsr2.js";import"./dividerClasses-CWB4WZUA.js";const G=()=>{const[o,l]=a.useState({title:"",status:""}),[b,c]=a.useState(!1),v=localStorage.getItem("TOKEN"),[d,u]=a.useState(""),{id:f}=E(),m=r=>{const{name:e,value:s}=r.target;l(C=>({...C,[e]:s}))},p=P();a.useEffect(()=>{(async()=>{try{const e=await g.get(`${x}/api/feature/featureId/${f}`);l({title:e.data.title,status:e.data.status})}catch(e){console.log(e),u("api fetching error")}})()},[]);const y=async()=>{if(!v)return i.error("You are not login"),p("/login");const{title:r,status:e}=o;try{c(!0),await g.put(`${x}/api/feature/edit/feature/${f}`,{title:r,status:e}),i.success("Feature Edit done"),p("/manageproject")}catch(s){u("api fetching error"),console.log(s),i.error("error")}finally{c(!1)}};return d?t.jsx(W,{error:d}):t.jsxs("div",{className:"dashboard_container",children:[t.jsx(k,{}),t.jsx("main",{children:t.jsx(I,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(h.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:t.jsxs(w,{elevation:6,sx:{padding:4,borderRadius:3,background:"#151a1f",minWidth:400},children:[t.jsx(A,{variant:"h5",mb:3,textAlign:"center",color:"#fff",fontWeight:"bold",children:"Project Edit"}),t.jsx(j,{fullWidth:!0,label:"Project Title",name:"title",value:o.title,onChange:m,sx:F}),t.jsxs(j,{name:"status",value:o.status,onChange:m,fullWidth:!0,select:!0,label:"Status",children:[t.jsx(n,{value:"pending",children:"Pending"}),t.jsx(n,{value:"working",children:"Working"}),t.jsx(n,{value:"completed",children:"Completed"})]}),t.jsx(h.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsx(S,{fullWidth:!0,variant:"contained",onClick:y,startIcon:t.jsx(B,{}),sx:{mt:3,py:1.4,background:"linear-gradient(135deg,#6a5af9,#9a6bff)",fontWeight:"bold",borderRadius:2},children:b?t.jsx(T,{size:20}):"Edit Feature"})})]})})})})]})},F={mb:2,"& label":{color:"#aaa"},"& label.Mui-focused":{color:"#6a5af9"},"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"#2a2f36"},"&:hover fieldset":{borderColor:"#6a5af9"},"&.Mui-focused fieldset":{borderColor:"#9a6bff"}}};export{G as default};
