import{r as o,j as a,p as b,o as e}from"./index-C7mS5LSR.js";import{a as y,b as k}from"./api-DUhR3JNR.js";import{S as T}from"./SideBar-BJ3RupDQ.js";import{A as C}from"./ApiError-DkHKP11P.js";import{C as N}from"./CoverImg-BJWxDkZF.js";import{R as S,L as _,C as A,X as E,Y as w,T as L,a as R}from"./LineChart-D0Ygn7LQ.js";import"./iconBase-BPnffJoz.js";import"./index-C03LTinN.js";const W=()=>{const[r,g]=o.useState([]),[m,c]=o.useState(!1),[l,f]=o.useState(""),j=async()=>{const s=localStorage.getItem("TOKEN");if(s)try{c(!0);const d=await y.get(`${k}/api/todo/getTask`,{headers:{Authorization:`Bearer ${s}`}});g(d.data.findTask)}catch(d){console.log(d),f("Api Fetching Error")}finally{c(!1)}};o.useEffect(()=>{j()},[]);const i=r.filter(s=>s.status==="completed").length,h=r.length-i,x=r.length===0?0:Math.round(i/r.length*100),v=[{name:"Total",value:r.length},{name:"Completed",value:i},{name:"Pending",value:h}],p={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{staggerChildren:.2,duration:.6}}},t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},u={hidden:{width:"0%"},visible:{width:`${x}%`,transition:{duration:1}}},n=(s=>s>=100?{name:"Legendary",color:"#7f7f7f",icon:"üíé"}:s>=75?{name:"Epic",color:"#a52a2a",icon:"üî•"}:s>=35?{name:"Golden",color:"#ffd700",icon:"üèÜ"}:{name:"Silver",color:"#c0c0c0",icon:"ü•à"})(i);return m?a.jsx(b,{}):l?a.jsx(C,{error:l}):a.jsxs("div",{className:"dashboard_container",children:[a.jsx(T,{}),a.jsxs(e.main,{initial:"hidden",animate:"visible",variants:p,children:[a.jsx(N,{}),a.jsxs(e.div,{className:"analyze_container",variants:p,children:[a.jsxs(e.div,{className:"stats_card",variants:t,children:[a.jsx("h2",{children:"Total Tasks"}),a.jsx("p",{children:r.length})]}),a.jsxs(e.div,{className:"stats_card completed",variants:t,children:[a.jsx("h2",{children:"Completed"}),a.jsx("p",{children:i})]}),a.jsxs(e.div,{className:"stats_card pending",variants:t,children:[a.jsx("h2",{children:"Pending"}),a.jsx("p",{children:h})]}),a.jsxs(e.div,{className:"stats_card badge",variants:t,children:[a.jsx("h2",{children:"Achievement"}),a.jsxs("div",{style:{background:`linear-gradient(135deg, ${n.color} 0%, #000 100%)`,padding:"10px 20px",borderRadius:"12px",display:"inline-flex",alignItems:"center",gap:"10px",boxShadow:"0 4px 10px rgba(0,0,0,0.5)",color:"#fff",fontWeight:"bold",fontSize:"16px"},children:[a.jsx("span",{style:{display:"inline-block",width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#fff",boxShadow:"0 0 8px rgba(255,255,255,0.8)",textAlign:"center",lineHeight:"24px",color:n.color},children:n.icon}),n.name]})]}),a.jsxs(e.div,{className:"progress_card",variants:t,children:[a.jsxs("div",{className:"progress_header",children:[a.jsx("h3",{children:"Task Progress"}),a.jsxs("span",{children:[x,"%"]})]}),a.jsx("div",{className:"progress_bar",children:a.jsx(e.div,{className:"progress_fill",initial:"hidden",animate:"visible",variants:u})})]}),a.jsxs(e.div,{className:"chart_card",variants:t,children:[a.jsx("h3",{children:"Task Status Trend"}),a.jsx(S,{width:"100%",height:260,children:a.jsxs(_,{data:v,children:[a.jsx(A,{stroke:"#1f242b",strokeDasharray:"3 3"}),a.jsx(E,{dataKey:"name",stroke:"#aaa"}),a.jsx(w,{stroke:"#aaa"}),a.jsx(L,{contentStyle:{background:"#15191d",border:"1px solid #2a2f36",color:"#fff"}}),a.jsx(R,{type:"monotone",dataKey:"value",stroke:"#6a5af9",strokeWidth:3,dot:{r:5},activeDot:{r:7}})]})})]})]})]})]})};export{W as default};
