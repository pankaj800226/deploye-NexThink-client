import{r as o,y as w,t as M,j as e,p as b,B as k,C as A,z as u}from"./index-Cr5JfeOY.js";import{S as I}from"./SideBar-B22sVGhT.js";import{A as B}from"./ApiError-COunG8Av.js";import{a as P,b as C}from"./api-DUhR3JNR.js";import{B as H}from"./Box-D4hGLymY.js";import{P as L}from"./Paper-CVMpEyed.js";import{T as R}from"./Typography-BFuEeEwt.js";import{T as i}from"./TextField-DBrHclT6.js";import{M as r}from"./MenuItem-04qZqGv-.js";import{A as $}from"./AddTask-yqcyigAZ.js";import"./iconBase-ZFtPvJzs.js";import"./index-Cv-_CcqN.js";import"./dividerClasses-BCLTNUIY.js";const X=()=>{const[n,h]=o.useState({title:"",description:"",category:"",priority:""}),[f,m]=o.useState(""),[p,g]=o.useState(""),[D,j]=o.useState(!1),E=localStorage.getItem("TOKEN"),[x,S]=o.useState(""),{id:y}=w(),l=a=>{const{name:t,value:c}=a.target;h(d=>({...d,[t]:c}))},v=M();o.useEffect(()=>{(async()=>{try{const t=await P.get(`${C}/api/project/projectId/${y}`);h({title:t.data.title,description:t.data.description,category:t.data.category,priority:t.data.priority}),m(t.data.startDate),g(t.data.endDate)}catch(t){console.log(t)}})()},[]);const T=async()=>{if(!E)return u.error("You are not login"),v("/login");const{title:a,description:t,category:c,priority:d}=n;if(!a||!t||!c||!d||!f||!p)return u.error("all field are required");try{j(!0),await P.put(`${C}/api/project/edit/project/${y}`,{title:a,description:t,category:c,priority:d,startDate:f,endDate:p}),u.success("Project Edit done"),v("/manageproject")}catch(W){S("api fetching error"),console.log(W),u.error("error")}finally{j(!1)}};return x?e.jsx(B,{error:x}):e.jsxs("div",{className:"dashboard_container",children:[e.jsx(I,{}),e.jsx("main",{children:e.jsx(H,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(b.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsxs(L,{elevation:6,sx:{padding:4,borderRadius:3,background:"#151a1f",minWidth:400},children:[e.jsx(R,{variant:"h5",mb:3,textAlign:"center",color:"#fff",fontWeight:"bold",children:"Project Edit"}),e.jsx(i,{fullWidth:!0,label:"Project Title",name:"title",value:n.title,onChange:l,sx:s}),e.jsx(i,{fullWidth:!0,type:"date",value:f,onChange:a=>m(a.target.value),sx:s}),e.jsx(i,{fullWidth:!0,type:"date",value:p,onChange:a=>g(a.target.value),sx:s}),e.jsxs(i,{fullWidth:!0,select:!0,label:"Project Type",name:"category",value:n.category,onChange:l,sx:s,children:[e.jsx(r,{value:"software",children:"Software Development"}),e.jsx(r,{value:"project",children:"Project"}),e.jsx(r,{value:"design",children:"Design"}),e.jsx(r,{value:"marketing",children:"Marketing"}),e.jsx(r,{value:"testing",children:"Testing / QA"}),e.jsx(r,{value:"research",children:"Research"}),e.jsx(r,{value:"maintenance",children:"Maintenance"})]}),e.jsxs(i,{fullWidth:!0,select:!0,label:"Priority",name:"priority",value:n.priority,onChange:l,sx:s,children:[e.jsx(r,{value:"Low",children:"Low"}),e.jsx(r,{value:"Medium",children:"Medium"}),e.jsx(r,{value:"High",children:"High"})]}),e.jsx(i,{fullWidth:!0,multiline:!0,rows:9,label:"Description",name:"description",value:n.description,onChange:l,sx:s}),e.jsx(b.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(k,{fullWidth:!0,variant:"contained",onClick:T,startIcon:e.jsx($,{}),sx:{mt:3,py:1.4,background:"linear-gradient(135deg,#6a5af9,#9a6bff)",fontWeight:"bold",borderRadius:2},children:D?e.jsx(A,{size:20}):"Edit Project"})})]})})})})]})},s={mb:2,"& label":{color:"#aaa"},"& label.Mui-focused":{color:"#6a5af9"},"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"#2a2f36"},"&:hover fieldset":{borderColor:"#6a5af9"},"&.Mui-focused fieldset":{borderColor:"#9a6bff"}}};export{X as default};
