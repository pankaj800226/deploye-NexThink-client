import{a as I,r as P,u as E,z as _,j as t,B as S,L as B}from"./index-BW7gK_ch.js";import{I as L,E as N}from"./Email-BZF1Cmqd.js";import{a as R,b as T}from"./api-DUhR3JNR.js";import{T as k}from"./Typography-CXbPZ9go.js";import{T as U}from"./TextField-C6g_lDS8.js";import{D as W}from"./Divider-C7t4MuV8.js";import{B as j}from"./Box-CLb8pgFE.js";const q=()=>{const e=I.c(21);let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=localStorage.getItem("resetEmail"),e[0]=l):l=e[0];const v=l,[o,C]=P.useState(""),g=E();let a;e[1]!==g||e[2]!==o?(a=async()=>{if(o)try{await R.post(`${T}/api/user/reset-password`,{email:v,newPassword:o}),localStorage.removeItem("resetEmail"),_.success("Password updated successfully"),g("/login")}catch(y){console.log(y),_.error("Something went wrong")}else _.error("Please enter a new password")},e[1]=g,e[2]=o,e[3]=a):a=e[3];const w=a;let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i={minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},e[4]=i):i=e[4];let n;e[5]===Symbol.for("react.memo_cache_sentinel")?(n={width:380,p:4,boxShadow:"0 0 20px rgba(0,0,0,0.6)",borderRadius:2},e[5]=n):n=e[5];let c;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx(k,{variant:"h5",align:"center",mb:3,sx:{color:"#fff"},children:"New Password"}),e[6]=c):c=e[6];let m,d;e[7]===Symbol.for("react.memo_cache_sentinel")?(m=y=>C(y.target.value),d={style:{color:"#aaa"}},e[7]=m,e[8]=d):(m=e[7],d=e[8]);let f,p;e[9]===Symbol.for("react.memo_cache_sentinel")?(f={startAdornment:t.jsx(L,{position:"start",children:t.jsx(N,{sx:{color:"#aaa"}})}),style:{color:"#fff"}},p={"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#444"},"&:hover fieldset":{borderColor:"#666"},"&.Mui-focused fieldset":{borderColor:"#1976d2"}}},e[9]=f,e[10]=p):(f=e[9],p=e[10]);let r;e[11]!==o?(r=t.jsx(U,{fullWidth:!0,margin:"normal",label:"New Password",name:"password",type:"password",value:o,onChange:m,InputLabelProps:d,InputProps:f,sx:p}),e[11]=o,e[12]=r):r=e[12];let u;e[13]===Symbol.for("react.memo_cache_sentinel")?(u={mt:3},e[13]=u):u=e[13];let s;e[14]!==w?(s=t.jsx(S,{fullWidth:!0,variant:"contained",sx:u,onClick:w,children:"Update"}),e[14]=w,e[15]=s):s=e[15];let h;e[16]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx(W,{children:"OR"}),e[16]=h):h=e[16];let x;e[17]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx(B,{to:"/login",children:t.jsx(S,{fullWidth:!0,variant:"outlined",sx:{borderColor:"#555",color:"#fff","&:hover":{borderColor:"#1976d2",backgroundColor:"rgba(25,118,210,0.1)"}},children:"Login"})}),e[17]=x):x=e[17];let b;return e[18]!==s||e[19]!==r?(b=t.jsx(j,{sx:i,children:t.jsxs(j,{sx:n,children:[c,r,s,h,x]})}),e[18]=s,e[19]=r,e[20]=b):b=e[20],b};export{q as default};
