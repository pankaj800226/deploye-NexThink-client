import{r as o,j as a,p as b,o as e}from"./index-C7mS5LSR.js";import{a as y,b as k}from"./api-DUhR3JNR.js";import{S as C}from"./SideBar-BJ3RupDQ.js";import{A as N}from"./ApiError-DkHKP11P.js";import{C as S}from"./CoverImg-BJWxDkZF.js";import{R as _,L as A,C as T,X as w,Y as E,T as P,a as L}from"./LineChart-D0Ygn7LQ.js";import"./iconBase-BPnffJoz.js";import"./index-C03LTinN.js";const G=()=>{const[r,g]=o.useState([]),[m,d]=o.useState(!1),[l,j]=o.useState(""),f=async()=>{const s=localStorage.getItem("TOKEN");if(s)try{d(!0);const c=await y.get(`${k}/api/project/getProject`,{headers:{Authorization:`Bearer ${s}`}});g(c.data.findProject)}catch(c){console.log(c),j("Api Fetching Error")}finally{d(!1)}};o.useEffect(()=>{f()},[]);const i=r.filter(s=>s.status==="completed").length,h=r.length-i,x=r.length===0?0:Math.round(i/r.length*100),v=[{name:"Total",value:r.length},{name:"Completed",value:i},{name:"working",value:h}],p={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{staggerChildren:.2,duration:.6}}},t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},u={hidden:{width:"0%"},visible:{width:`${x}%`,transition:{duration:1}}},n=(s=>s>=60?{name:"Legendary",color:"#7f7f7f",icon:"üíé"}:s>=20?{name:"Epic",color:"#a52a2a",icon:"üî•"}:s>=10?{name:"Golden",color:"#ffd700",icon:"üèÜ"}:{name:"Silver",color:"#c0c0c0",icon:"ü•à"})(i);return m?a.jsx(b,{}):l?a.jsx(N,{error:l}):a.jsxs("div",{className:"dashboard_container",children:[a.jsx(C,{}),a.jsxs(e.main,{initial:"hidden",animate:"visible",variants:p,children:[a.jsx(S,{}),a.jsxs(e.div,{className:"analyze_container",variants:p,children:[a.jsxs(e.div,{className:"stats_card",variants:t,children:[a.jsx("h2",{children:"Total Project"}),a.jsx("p",{children:r.length})]}),a.jsxs(e.div,{className:"stats_card completed",variants:t,children:[a.jsx("h2",{children:"Completed"}),a.jsx("p",{children:i})]}),a.jsxs(e.div,{className:"stats_card pending",variants:t,children:[a.jsx("h2",{children:"Working..."}),a.jsx("p",{children:h})]}),a.jsxs(e.div,{className:"stats_card badge",variants:t,children:[a.jsx("h2",{children:"Achievement"}),a.jsxs("div",{style:{background:`linear-gradient(135deg, ${n.color} 0%, #000 100%)`,padding:"10px 20px",borderRadius:"12px",display:"inline-flex",alignItems:"center",gap:"10px",boxShadow:"0 4px 10px rgba(0,0,0,0.5)",color:"#fff",fontWeight:"bold",fontSize:"16px"},children:[a.jsx("span",{style:{display:"inline-block",width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#fff",boxShadow:"0 0 8px rgba(255,255,255,0.8)",textAlign:"center",lineHeight:"24px",color:n.color},children:n.icon}),n.name]})]}),a.jsxs(e.div,{className:"progress_card",variants:t,children:[a.jsxs("div",{className:"progress_header",children:[a.jsx("h3",{children:"Task Progress"}),a.jsxs("span",{children:[x,"%"]})]}),a.jsx("div",{className:"progress_bar",children:a.jsx(e.div,{className:"progress_fill",initial:"hidden",animate:"visible",variants:u})})]}),a.jsxs(e.div,{className:"chart_card",variants:t,children:[a.jsx("h3",{children:"Task Status Trend"}),a.jsx(_,{width:"100%",height:260,children:a.jsxs(A,{data:v,children:[a.jsx(T,{stroke:"#1f242b",strokeDasharray:"3 3"}),a.jsx(w,{dataKey:"name",stroke:"#aaa"}),a.jsx(E,{stroke:"#aaa"}),a.jsx(P,{contentStyle:{background:"#15191d",border:"1px solid #2a2f36",color:"#fff"}}),a.jsx(L,{type:"monotone",dataKey:"value",stroke:"#6a5af9",strokeWidth:3,dot:{r:5},activeDot:{r:7}})]})})]})]})]})]})};export{G as default};
